# Hadrian Gateway Configuration - SQLite + Redis Cluster
# Development setup with Redis Cluster for high availability caching

[database]
type = "sqlite"
path = "/app/data/hadrian.db"

[cache]
type = "redis"
# Comma-separated list of cluster nodes for initial discovery
url = "redis://redis-1:6379,redis://redis-2:6379,redis://redis-3:6379"

[cache.cluster]
read_from_replicas = true
retries = 3
retry_delay_ms = 100
connection_timeout_secs = 5
response_timeout_secs = 1

[auth.mode]
type = "api_key"

[auth.api_key]
header_name = "X-API-Key"
key_prefix = "gw_"
cache_ttl_secs = 300

[providers]
default_provider = "test"

# Test provider for e2e testing (echoes back requests)
[providers.test]
type = "test"

# Production providers (uncomment and configure as needed)
# [providers.openrouter]
# type = "open_ai"
# api_key = "${OPENROUTER_API_KEY}"
# base_url = "https://openrouter.ai/api/v1/"
# timeout_secs = 60
